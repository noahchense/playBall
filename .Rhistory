distinct(hr_tables[[1]]$BATTERTEAM)
levels(hr_tables[[:]]$BATTERTEAM)
levels(hr_tables[[2]]$BATTERTEAM)
levels(hr_tables[[3]]$BATTERTEAM)
hrs <- filter(hr_tables[[1]], BATTERTEAM == levels(hr_tables[[1]]$BATTERTEAM)[1])
hrs <- filter(hr_tables[[1]], BATTERTEAM == levels(hr_tables[[1]]$BATTERTEAM)[[1]])
levels(hr_tables[[1]]$BATTERTEAM)
str(levels(hr_tables[[1]]$BATTERTEAM))
aaa <- levels(hr_tables[[1]]$BATTERTEAM)
bbb <- levels(hr_tables[[10]]$BATTERTEAM)
aaa
bbb
union(aaa, bbb)
TEAMS <- c()
for (i in 1:length(year)) {
TEAMS <- union(TEAMS, levels(hr_tables[[i]]$BATTERTEAM))
}
TEAMS
length(hr_tables)
length(hr_tables[[1]])
length(hr_tables[[2]])
tail(hr_tables[[1]])
tail(hr_tables[[2]])
q()
install.packages("rJava")
q()
install.packages("rJava")
q()
library(RImpala)
library(rJava)
q()
install.packages("~/Downloads/slam_0.1-31.tar.gz", repos = NULL, type = "source")
install.packages("~/Downloads/slam_0.1-32.tar.gz", repos = NULL, type = "source")
install.packages("~/Downloads/slam_0.1-32.tar.gz", repos = NULL, type = "source")
install.packages("xts")
install.packages("~/Downloads/slam_0.1-32.tar.gz", repos = NULL, type = "source")
library(RImpala)
q()
url <- "http://www.cpbl.com.tw/standing_season.aspx"
sc_tables <- readHTMLTable(url, stringAsFactors = FALSE, encoding = "utf8")
library(XML)
url <- "http://www.cpbl.com.tw/standing_season.aspx"
sc_tables <- readHTMLTable(url, stringAsFactors = FALSE, encoding = "utf8")
View(sc_tables)
sc_tables[1] <- data.frame(TEAM = c("Lamigo", "統一7-ELEVEn", "義大", "中信兄弟"),
GP = c(60, 60, 60, 60),
WIN = c(39, 32, 26, 19),
TIE = c(2, 4, 1, 1),
LOSS = c(19, 24, 33, 40),
RS = c(284, 266, 268, 211),
RA = c(226, 272, 267, 264))
sc_tables[2] <- data.frame(TEAM = c("Lamigo", "統一7-ELEVEn", "義大", "中信兄弟"),
GP = c(60, 60, 60, 60),
WIN = c(27, 26, 32, 31),
TIE = c(1, 3, 1, 3),
LOSS = c(32, 31, 27, 26),
RS = c(238, 254, 297, 265),
RA = c(296, 265, 266, 227))
sc_tables[3] <- data.frame(TEAM = c("Lamigo", "統一7-ELEVEn", "義大", "中信兄弟"),
GP = c(120, 120, 120, 120),
WIN = c(66, 58, 58, 50),
TIE = c(3, 7, 2, 4),
LOSS = c(51, 55, 60, 66),
RS = c(522, 520, 565, 476),
RA = c(522, 537, 533, 491))
save(sc_tables, file = "Documents//OpenDataProj//sc_tables.RData")
View(sc_tables)
sc_tables <- list()
sc_tables[1] <- data.frame(TEAM = c("Lamigo", "統一7-ELEVEn", "義大", "中信兄弟"),
GP = c(60, 60, 60, 60),
WIN = c(39, 32, 26, 19),
TIE = c(2, 4, 1, 1),
LOSS = c(19, 24, 33, 40),
RS = c(284, 266, 268, 211),
RA = c(226, 272, 267, 264))
load("Documents//OpenDataProj//hr_tables.RData")
View(hr_tables)
View(hr_tables[[1]])
View(sc_tables[[1]])
sc_tables <- list()
TEAM = c("Lamigo", "統一7-ELEVEn", "義大", "中信兄弟");
GP = c(60, 60, 60, 60);
WIN = c(39, 32, 26, 19);
TIE = c(2, 4, 1, 1);
LOSS = c(19, 24, 33, 40);
RS = c(284, 266, 268, 211);
RA = c(226, 272, 267, 264);
sc_tables[1] <- data.frame(TEAM, GP, WIN, TIE, LOSS, RS, RA)
q()
sc_tables <- list()
TEAM = c("Lamigo", "統一7-ELEVEn", "義大", "中信兄弟");
GP = c(60, 60, 60, 60);
WIN = c(39, 32, 26, 19);
TIE = c(2, 4, 1, 1);
LOSS = c(19, 24, 33, 40);
RS = c(284, 266, 268, 211);
RA = c(226, 272, 267, 264);
sc_tables[1] <- data.frame(TEAM, GP, WIN, TIE, LOSS, RS, RA)
sc_tables <- data.frame(TEAM, GP, WIN, TIE, LOSS, RS, RA)
View(sc_tables)
sc_tables[2] <- data.frame(TEAM = c("Lamigo", "統一7-ELEVEn", "義大", "中信兄弟"),
GP = c(60, 60, 60, 60),
WIN = c(27, 26, 32, 31),
TIE = c(1, 3, 1, 3),
LOSS = c(32, 31, 27, 26),
RS = c(238, 254, 297, 265),
RA = c(296, 265, 266, 227))
sc_tables[1] <- data.frame(TEAM, GP, WIN, TIE, LOSS, RS, RA)
rm(list=ls())
sc_tables <- list()
TEAM = c("Lamigo", "統一7-ELEVEn", "義大", "中信兄弟");
GP = c(60, 60, 60, 60);
WIN = c(39, 32, 26, 19);
TIE = c(2, 4, 1, 1);
LOSS = c(19, 24, 33, 40);
RS = c(284, 266, 268, 211);
RA = c(226, 272, 267, 264);
sc_tables[1] <- data.frame(TEAM, GP, WIN, TIE, LOSS, RS, RA)
sc_tables[2] <- data.frame(TEAM = c("Lamigo", "統一7-ELEVEn", "義大", "中信兄弟"),
GP = c(60, 60, 60, 60),
WIN = c(27, 26, 32, 31),
TIE = c(1, 3, 1, 3),
LOSS = c(32, 31, 27, 26),
RS = c(238, 254, 297, 265),
RA = c(296, 265, 266, 227))
sc_tables[3] <- data.frame(TEAM = c("Lamigo", "統一7-ELEVEn", "義大", "中信兄弟"),
GP = c(120, 120, 120, 120),
WIN = c(66, 58, 58, 50),
TIE = c(3, 7, 2, 4),
LOSS = c(51, 55, 60, 66),
RS = c(522, 520, 565, 476),
RA = c(522, 537, 533, 491))
save(sc_tables, file = "Documents//OpenDataProj//sc_tables.RData")
sc_2014_1half <- data.frame(TEAM = c("Lamigo", "統一7-ELEVEn", "義大", "中信兄弟"),
GP = c(60, 60, 60, 60),
WIN = c(39, 32, 26, 19),
TIE = c(2, 4, 1, 1),
LOSS = c(19, 24, 33, 40),
RS = c(284, 266, 268, 211),
RA = c(226, 272, 267, 264))
sc_2014_2half <- data.frame(TEAM = c("Lamigo", "統一7-ELEVEn", "義大", "中信兄弟"),
GP = c(60, 60, 60, 60),
WIN = c(27, 26, 32, 31),
TIE = c(1, 3, 1, 3),
LOSS = c(32, 31, 27, 26),
RS = c(238, 254, 297, 265),
RA = c(296, 265, 266, 227))
sc_2014_full <- data.frame(TEAM = c("Lamigo", "統一7-ELEVEn", "義大", "中信兄弟"),
GP = c(120, 120, 120, 120),
WIN = c(66, 58, 58, 50),
TIE = c(3, 7, 2, 4),
LOSS = c(51, 55, 60, 66),
RS = c(522, 520, 565, 476),
RA = c(522, 537, 533, 491))
save(c("sc_2014_1half", "sc_2014_2half", "sc_2014_full"), file = "Documents//OpenDataProj//sc_tables.RData")
sc_2014_1half <- data.frame(TEAM = c("Lamigo", "統一7-ELEVEn", "義大", "中信兄弟"),
GP = c(60, 60, 60, 60),
WIN = c(39, 32, 26, 19),
TIE = c(2, 4, 1, 1),
LOSS = c(19, 24, 33, 40),
RS = c(284, 266, 268, 211),
RA = c(226, 272, 267, 264))
sc_2014_2half <- data.frame(TEAM = c("Lamigo", "統一7-ELEVEn", "義大", "中信兄弟"),
GP = c(60, 60, 60, 60),
WIN = c(27, 26, 32, 31),
TIE = c(1, 3, 1, 3),
LOSS = c(32, 31, 27, 26),
RS = c(238, 254, 297, 265),
RA = c(296, 265, 266, 227))
sc_2014_full <- data.frame(TEAM = c("Lamigo", "統一7-ELEVEn", "義大", "中信兄弟"),
GP = c(120, 120, 120, 120),
WIN = c(66, 58, 58, 50),
TIE = c(3, 7, 2, 4),
LOSS = c(51, 55, 60, 66),
RS = c(522, 520, 565, 476),
RA = c(522, 537, 533, 491))
save("sc_2014_1half", "sc_2014_2half", "sc_2014_full", file = "Documents//OpenDataProj//sc_tables.RData")
View(sc_2014_1half)
View(sc_2014_2half)
View(sc_2014_2half)
View(sc_2014_full)
rm(list=ls())
load("Documents//OpenDataProj//sc_tables.RData")
load("Documents//OpenDataProj//hr_tables.RData")
sc_2014_full$RA
sc_2014_full$RC
sc_2014_full$RS
q()
xx <- c(3, 5, 6)
xx ^ 2
(xx ^ 2) + (xx ^ 2)
load("Documents//OpenDataProj//sc_tables.RData")
load("Documents//OpenDataProj//hr_tables.RData")
first_half_wp <- win_pc(RS = sc_2014_1half$RS, RA = sc_2014_1half$RA)
win_pc <- function(RS, RA) {
perc <- RS^2 / (RS^2 + RA^2)
return(perc)
}
first_half_wp <- win_pc(RS = sc_2014_1half$RS, RA = sc_2014_1half$RA)
first_half_wp
sc_2014_1half$WIN / (sc_2014_1half$WIN + sc_2014_1half$TIE + sc_2014_1half$LOSS)
first_half_expd_wp <- win_pc(RS = sc_2014_1half$RS, RA = sc_2014_1half$RA)
first_half_real_wp <- sc_2014_1half$WIN / (sc_2014_1half$WIN + sc_2014_1half$TIE + sc_2014_1half$LOSS)
q()
rm(list=ls())
load("Documents//OpenDataProj//sc_tables.RData")
load("Documents//OpenDataProj//hr_tables.RData")
win_pc <- function(RS, RA) {
perc <- RS^2 / (RS^2 + RA^2)
return(perc)
}
first_half_expd_wp <- win_pc(RS = sc_2014_1half$RS, RA = sc_2014_1half$RA)
first_half_real_wp <- sc_2014_1half$WIN / (sc_2014_1half$WIN + sc_2014_1half$TIE + sc_2014_1half$LOSS)
second_half_expd_wp <- win_pc(RS = sc_2014_2half$RS, RA = sc_2014_2half$RA)
second_half_real_wp <- sc_2014_2half$WIN / (sc_2014_2half$WIN + sc_2014_2half$TIE + sc_2014_2half$LOSS)
expd_wp <- win_pc(RS = sc_2014_full$RS, RA = sc_2014_full$RA)
real_wp <- sc_2014_full$WIN / (sc_2014_full$WIN + sc_2014_full$TIE + sc_2014_full$LOSS)
library(ggplot2)
ggplot(first_half_expd_wp, first_half_real_wp) + barplot()
ggplot(first_half_expd_wp, first_half_real_wp) + bar()
ggplot(first_half_expd_wp, first_half_real_wp) + hist()
qplot(first_half_expd_wp, first_half_real_wp)
qplot(c(first_half_expd_wp, second_half_expd_wp, expd_wp), c(first_half_real_wp, second_half_real_wp, real_wp)
)
ggplot(c(first_half_expd_wp, second_half_expd_wp, expd_wp), c(first_half_real_wp, second_half_real_wp, real_wp)) + stat_smooth()
ggplot(aes(x = c(first_half_expd_wp, second_half_expd_wp, expd_wp), y = c(first_half_real_wp, second_half_real_wp, real_wp))) + stat_smooth()
win_prob <- data.frame(expd = c(first_half_expd_wp, second_half_expd_wp, expd_wp), real = c(first_half_real_wp, second_half_real_wp, real_wp))
fig <- ggplot(data = win_prob, aes(x = expd)) + geom_histogram()
win_prob <- data.frame(expd = c(first_half_expd_wp, second_half_expd_wp, expd_wp), real = c(first_half_real_wp, second_half_real_wp, real_wp))
fig <- ggplot(data = win_prob, aes(x = expd))
fig +  + geom_histogram()
fig + geom_histogram()
fig <- ggplot(data = win_prob, aes(x = expd, y = real))
fig + geom_histogram()
fig <- ggplot(data = win_prob, aes(x = expd, y = real))
fig + geom_stat()
fig + stat_smooth()
win_prob <- data.frame(expd = c(first_half_expd_wp, second_half_expd_wp, expd_wp), real = c(first_half_real_wp, second_half_real_wp, real_wp))
fig <- ggplot(data = win_prob, aes(x = expd, y = real))
fig + stat_smooth()
fig + stat_smooth() + geom_point()
fig + stat_smooth() + geom_point(color = half)
win_prob <- data.frame(expd = c(first_half_expd_wp, second_half_expd_wp, expd_wp), real = c(first_half_real_wp, second_half_real_wp, real_wp), half = c(1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3))
fig + stat_smooth() + geom_point(color = half)
win_prob <- data.frame(expd = c(first_half_expd_wp, second_half_expd_wp, expd_wp), real = c(first_half_real_wp, second_half_real_wp, real_wp), half = c(1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3))
fig <- ggplot(data = win_prob, aes(x = expd, y = real))
fig + stat_smooth() + geom_point(color = win_prob$half)
win_prob <- data.frame(expd = c(first_half_expd_wp, second_half_expd_wp, expd_wp), real = c(first_half_real_wp, second_half_real_wp, real_wp), half = c("first half", "first half", "first half", "first half", "second half", "second half", "second half", "second half", "full season", "full season", "full season", "full season"))
fig <- ggplot(data = win_prob, aes(x = expd, y = real))
fig + stat_smooth() + geom_point(color = win_prob$half)
fig + stat_smooth() + geom_point(color = factor(win_prob$half))
fig + stat_smooth() + geom_point(label = factor(win_prob$half))
fig + stat_smooth() + geom_point(color = factor(win_prob$half))
fig + stat_smooth() + geom_point(label = (win_prob$half))
library(ggplot2)
win_prob <- data.frame(expd = c(first_half_expd_wp, second_half_expd_wp, expd_wp), real = c(first_half_real_wp, second_half_real_wp, real_wp), half = c("first half", "first half", "first half", "first half", "second half", "second half", "second half", "second half", "full season", "full season", "full season", "full season"))
fig <- ggplot(data = win_prob, aes(x = expd, y = real))
fig + stat_smooth() + geom_point(color = factor(win_prob$half))
win_prob <- data.frame(expd = c(first_half_expd_wp, second_half_expd_wp, expd_wp), real = c(first_half_real_wp, second_half_real_wp, real_wp), half = c("first half", "first half", "first half", "first half", "second half", "second half", "second half", "second half", "full season", "full season", "full season", "full season"))
fig <- ggplot(data = win_prob, aes(x = expd, y = real, color = factor(half)))
fig + stat_smooth() + geom_point()
fig + stat_smooth() #+ geom_point()
fig <- ggplot(data = win_prob, aes(x = expd, y = real, color = factor(half)))
fig + stat_smooth() #+ geom_point()
fig + stat_smooth() + geom_point()
win_prob <- data.frame(expd = c(first_half_expd_wp, second_half_expd_wp, expd_wp), real = c(first_half_real_wp, second_half_real_wp, real_wp), half = c("first half", "first half", "first half", "first half", "second half", "second half", "second half", "second half", "full season", "full season", "full season", "full season"))
fig1 <- ggplot(data = win_prob, aes(x = expd, y = real, color = factor(half)))
fig1 + stat_smooth() + geom_point()
fig2 <- ggplot(data = win_prob, aes(x = expd, y = real, color = factor(half)))
fig2 + stat_smooth() + geom_point()
fig2 <- ggplot(data = win_prob, aes(x = expd, y = real)) #, color = factor(half)))
fig2 + stat_smooth() + geom_point()
win_prob <- data.frame(expd = c(first_half_expd_wp, second_half_expd_wp, expd_wp), real = c(first_half_real_wp, second_half_real_wp, real_wp), half = c("first half", "first half", "first half", "first half", "second half", "second half", "second half", "second half", "full season", "full season", "full season", "full season"))
fig2 <- ggplot(data = win_prob, aes(x = expd, y = real, color = factor(half)))
fig2 + stat_smooth() + geom_point()
win_prob <- data.frame(expd = c(first_half_expd_wp, second_half_expd_wp, expd_wp), real = c(first_half_real_wp, second_half_real_wp, real_wp), half = c("first half", "first half", "first half", "first half", "second half", "second half", "second half", "second half", "full season", "full season", "full season", "full season"), team = c(sc_2014_1half$TEAM, sc_2014_2half$TEAM, sc_2014_full$TEAM))
fig2 <- ggplot(data = win_prob, aes(x = expd, y = real, color = factor(team)))
fig2 + stat_smooth() + geom_point()
fig2 <- ggplot(data = win_prob, aes(x = expd, y = real, color = team))
fig2 + stat_smooth() + geom_point()
fig2 <- ggplot(data = win_prob, aes(x = expd, y = real, color = factor(team)))
fig2 + stat_smooth() + geom_point()
sc_2014_1half$TEAM
c(sc_2014_1half$TEAM)
View(win_prob)
levels(sc_2014_1half$TEAM)
win_prob <- data.frame(expd = c(first_half_expd_wp, second_half_expd_wp, expd_wp), real = c(first_half_real_wp, second_half_real_wp, real_wp), half = c("first half", "first half", "first half", "first half", "second half", "second half", "second half", "second half", "full season", "full season", "full season", "full season"), team = c(sc_2014_1half$TEAM, sc_2014_2half$TEAM, sc_2014_full$TEAM))
levels(win_prob$team) <- levels(sc_2014_full$TEAM)
fig2 <- ggplot(data = win_prob, aes(x = expd, y = real, color = factor(team)))
fig2 + stat_smooth() + geom_point()
win_prob$team
fig2 <- ggplot(data = win_prob, aes(x = expd, y = real, color = levels(team)))
fig2 + stat_smooth() + geom_point()
fig2 <- ggplot(data = win_prob, aes(x = expd, y = real, color = team))
fig2 + stat_smooth() + geom_point()
fig2 <- ggplot(data = win_prob, aes(x = expd, y = real, color = factor(team)))
fig2 + stat_smooth() + geom_point()
levels(win_prob$team) <- levels(sc_2014_full$TEAM)
win_prob <- data.frame(expd = c(first_half_expd_wp, second_half_expd_wp, expd_wp), real = c(first_half_real_wp, second_half_real_wp, real_wp), half = c("first half", "first half", "first half", "first half", "second half", "second half", "second half", "second half", "full season", "full season", "full season", "full season"), team = c(sc_2014_1half$TEAM, sc_2014_2half$TEAM, sc_2014_full$TEAM))
levels(win_prob$team) <- levels(sc_2014_full$TEAM)
fig2 <- ggplot(data = win_prob, aes(x = expd, y = real, color = factor(team)))
fig2 + stat_smooth() + geom_point()
fig2 + stat_smooth() + geom_point() + theme(legend = levels(team))
fig2 + stat_smooth() + geom_point() + theme(legend = levels(win_prob$team))
fig2 + stat_smooth() + geom_point() + theme(legend.text = levels(win_prob$team))
fig2 <- ggplot(data = win_prob, aes(x = expd, y = real, color = factor(team)))
fig2 + stat_smooth() + geom_point() + theme(legend.text = levels(win_prob$team))
fig2 <- ggplot(data = win_prob, aes(x = expd, y = real, color = factor(team), shape = half))
fig2 + stat_smooth() + geom_point()
fig2 <- ggplot(data = win_prob, aes(x = expd, y = real, color = factor(team), shape = factor(half)))
fig2 + stat_smooth() + geom_point()
fig2 <- ggplot(data = win_prob, aes(x = expd, y = real, color = factor(team))
fig2 + stat_smooth() + geom_point()
fig2 <- ggplot(data = win_prob, aes(x = expd, y = real, color = factor(team)))
fig2 + stat_smooth() + geom_point()
fig2 <- ggplot(data = win_prob, aes(x = expd, y = real, color = factor(half)))
fig2 + stat_smooth() + geom_point()
fig2 <- ggplot(data = win_prob, aes(x = expd, y = real, color = factor(team)))
fig2 + stat_smooth() + geom_point()
fig2 <- ggplot(data = win_prob, aes(x = expd, y = real, color = factor(half)))
fig2 + stat_smooth() + geom_point()
fig2 + stat_smooth() + geom_point(shape = win_prob$team)
fig2 + stat_smooth() + geom_point()
fig2 + stat_smooth() + geom_point() + geom_text(win_prob$team)
fig2 + stat_smooth() + geom_point() + geom_text(levels(win_prob$team))
fig2 + stat_smooth() + geom_point()
q()
load("Documents//OpenDataProj//sc_tables.RData")
load("Documents//OpenDataProj//hr_tables.RData")
win_pc <- function(RS, RA) {
perc <- RS^2 / (RS^2 + RA^2)
return(perc)
}
first_half_expd_wp <- win_pc(RS = sc_2014_1half$RS, RA = sc_2014_1half$RA)
first_half_real_wp <- sc_2014_1half$WIN / (sc_2014_1half$WIN + sc_2014_1half$TIE + sc_2014_1half$LOSS)
second_half_expd_wp <- win_pc(RS = sc_2014_2half$RS, RA = sc_2014_2half$RA)
second_half_real_wp <- sc_2014_2half$WIN / (sc_2014_2half$WIN + sc_2014_2half$TIE + sc_2014_2half$LOSS)
expd_wp <- win_pc(RS = sc_2014_full$RS, RA = sc_2014_full$RA)
real_wp <- sc_2014_full$WIN / (sc_2014_full$WIN + sc_2014_full$TIE + sc_2014_full$LOSS)
library(ggplot2)
win_prob <- data.frame(expd = c(first_half_expd_wp, second_half_expd_wp, expd_wp), real = c(first_half_real_wp, second_half_real_wp, real_wp), half = c("first half", "first half", "first half", "first half", "second half", "second half", "second half", "second half", "full season", "full season", "full season", "full season"), team = c(sc_2014_1half$TEAM, sc_2014_2half$TEAM, sc_2014_full$TEAM))
levels(win_prob$team) <- levels(sc_2014_full$TEAM)
fig <- ggplot(data = win_prob, aes(x = expd, y = real, color = factor(half)))
fig <- ggplot(data = win_prob, aes(x = expd, y = real, color = factor(team)))
fig + stat_smooth() + geom_point()
q()
install.packages("RJSON")
install.packages("rjson")
library(rjson)
?rjson
test <- formJSON("http://vote2014.g0v.ronny.tw/index/data/TV1000100050000")
test <- fromJSON("http://vote2014.g0v.ronny.tw/index/data/TV1000100050000")
test <- fromJSON("http://api.vote2014.g0v.ronny.tw/api/data/TV1000100050000")
test <- fromJSON("http://api.vote2014.g0v.ronny.tw/api/data/TV1000100050000", unexpected.escape = "skip")
test <- fromJSON(file = "http://api.vote2014.g0v.ronny.tw/api/data/TV1000100050000", unexpected.escape = "skip")
test
test <- fromJSON(file = "http://api.vote2014.g0v.ronny.tw/api/county", unexpected.escape = "skip")
test
test <- fromJSON(file = "http://api.vote2014.g0v.ronny.tw/api/data/T110001000000")
test
q()
q()
test <- fromJSON(file = "http://api.vote2014.g0v.ronny.tw/api/data/T110001000000")
library(rjson)
test <- fromJSON(file = "http://api.vote2014.g0v.ronny.tw/api/data/T110001000000")
test
test$rows
q()
library(RImpala)
library(rjava)
library(rJava)
q()
q()
load("/Users/summitsuen/Documents//Etu//SNSplus/snsplus_poc_tableau/test_data_1202.RData")
View(merge)
library(dplyr)
merge <- test2 %>% mutate(login_duration = last_login - first_login, pay_duration = last_pay - first_pay) %>% select(userid, gamefullid, login_duration, total_staytime, total_logintimes, amount_tw, pay_times, pay_duration)
View(merge)
read.csv(/Users/summitsuen/Documents//Etu//SNSplus/snsplus_poc_tableau/test_cluster_1203.csv")
read.csv("/Users/summitsuen/Documents//Etu//SNSplus/snsplus_poc_tableau/test_cluster_1203.csv")
test <- read.table("/Users/summitsuen/Documents//Etu//SNSplus/snsplus_poc_tableau/test_cluster_1203.csv", sep = "/t")
test <- read.table("/Users/summitsuen/Documents//Etu//SNSplus/snsplus_poc_tableau/test_cluster_1203.csv", sep = /t)
test <- read.table("/Users/summitsuen/Documents//Etu//SNSplus/snsplus_poc_tableau/test_cluster_1203.csv", sep = "\t")
head(test)
str(test)
q()
load("Documents//OpenDataProj//sc_tables.RData")
load("Documents//OpenDataProj//hr_tables.RData")
win_pc <- function(RS, RA) {
perc <- RS^2 / (RS^2 + RA^2)
return(perc)
}
getwd()
setwd("/Users/summitsuen/Documents/OpenDataProj/")
dir()
first_half_expd_wp <- win_pc(RS = sc_2014_1half$RS, RA = sc_2014_1half$RA)
first_half_real_wp <- sc_2014_1half$WIN / (sc_2014_1half$WIN + sc_2014_1half$TIE + sc_2014_1half$LOSS)
second_half_expd_wp <- win_pc(RS = sc_2014_2half$RS, RA = sc_2014_2half$RA)
second_half_real_wp <- sc_2014_2half$WIN / (sc_2014_2half$WIN + sc_2014_2half$TIE + sc_2014_2half$LOSS)
expd_wp <- win_pc(RS = sc_2014_full$RS, RA = sc_2014_full$RA)
real_wp <- sc_2014_full$WIN / (sc_2014_full$WIN + sc_2014_full$TIE + sc_2014_full$LOSS)
library(ggplot2)
win_prob <- data.frame(expd = c(first_half_expd_wp, second_half_expd_wp, expd_wp), real = c(first_half_real_wp, second_half_real_wp, real_wp), half = c("first half", "first half", "first half", "first half", "second half", "second half", "second half", "second half", "full season", "full season", "full season", "full season"), team = c(sc_2014_1half$TEAM, sc_2014_2half$TEAM, sc_2014_full$TEAM))
levels(win_prob$team) <- levels(sc_2014_full$TEAM)
View(win_prob)
win_prob$TEAM
win_prob$team
fig <- ggplot(data = win_prob, aes(x = expd, y = real, color = factor(team)))
fig + stat_smooth() + geom_point()
fig <- ggplot(data = win_prob, aes(x = expd, y = real, color = factor(team), label = levels(team)))
fig + stat_smooth() + geom_point()
?ggplot
fig + stat_smooth() + geom_hist()
fig + stat_smooth() + geom_histogram()
fig <- ggplot(data = win_prob, aes(x = expd, y = real, color = factor(team)))
fig + stat_smooth() + geom_histogram()
fig + geom_histogram()
fig <- ggplot(data = win_prob, aes(x = expd, y = real, color = factor(team)))
fig + geom_histogram()
fig + geom_line()
fig + geom_line() + geom_point()
fig <- ggplot(data = win_prob, aes(x = expd, y = real))
fig + geom_line() + geom_point()
fig + geom_bar()
fig + geom_histogram()
?geom_bar
fig <- ggplot(data = win_prob, aes(cbind(expd, real))
fig + geom_histogram()
fig <- ggplot(data = win_prob, aes(cbind(expd, real)))
fig + geom_histogram()
?geom_bar
fig <- ggplot(data = win_prob, aes(cbind(expd)))
fig + geom_histogram()
fig <- ggplot(data = win_prob, aes(x = expd))
fig + geom_histogram()
fig <- ggplot(data = win_prob, aes(x = team, y = expd))
fig + geom_histogram()
fig + geom_bar()
fig <- ggplot(data = win_prob, aes(x = team, y = expd))
fig + geom_bar()
?geom_bar
fig <- ggplot(data = win_prob, aes(x = team, y = expd))
fig + geom_bar(stat="identity")
fig <- ggplot(data = win_prob, aes(x = team, y = expd, color = factor(half)))
fig + geom_bar(stat="identity")
?geom_bar
fig + geom_bar(stat = "identity", fill = half)
fig + geom_bar(stat = "identity", fill = win_prob$half)
fig + geom_bar(stat = "identity", fill = factor(win_prob$half))
fig + geom_bar(stat = "identity") + facet_wrap(~ win_prob$half)
fig <- ggplot(data = win_prob, aes(x = team, y = c(real, expd), color = factor(half)))
fig + geom_bar(stat = "identity")
fig <- ggplot(data = win_prob, aes(x = team, y = cbind(real, expd), color = factor(half)))
fig + geom_bar(stat = "identity")
fig <- ggplot(data = win_prob, aes(x = team, y = real, color = factor(half)))
fig + geom_bar(stat = "identity")
fig <- ggplot(data = win_prob, aes(x = factor(team), y = real, color = factor(half)))
fig + geom_bar(stat = "identity")
fig <- ggplot(data = win_prob, aes(x = team, y = real, color = factor(half)))
fig + geom_bar(stat = "identity")
fig <- ggplot(data = win_prob, aes(x = team, y = real, fill = factor(half)))
fig + geom_bar(stat = "identity")
fig + geom_bar(stat = "identity") + facet_wrap(~ win_prob$half)
fig <- ggplot(data = win_prob, aes(x = team, y = real, fill = factor(half)))
fig + geom_bar(stat = "identity") + facet_wrap(~ win_prob$half)
fig + geom_bar(stat = "identity", position="dodge")
fig <- ggplot(data = win_prob, aes(x = team, y = c(expd,real), fill = factor(half)))
fig + geom_bar(stat = "identity", position="dodge")
source('~/Documents/OpenDataProj/calculate_.R', echo=TRUE)
fig <- ggplot(data = win_prob, aes(x = team, y = real, fill = factor(half)))
fig <- ggplot(data = win_prob, aes(x = team, y = real, fill = factor(half)))
fig + geom_bar(stat = "identity", position="dodge")
setwd("/Users/summitsuen/Documents//playBall")
dir()
library(slidify)
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
?slidify
?rmarkdown
?markdown
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
remDr$close()
pJS$stop()
ggplot(data = win_prob, aes(x = expd, y = real, color = factor(half)) + geom_freqpoly(aes(group = half))
ggplot(data = win_prob, aes(x = expd, y = real, color = factor(team)) + geom_freqpoly(aes(group = half))
ggplot(data = win_prob, aes(x = expd, y = real, color = factor(team)) + geom_freqpoly(aes(group = team))
ggplot(data = win_prob, aes(x = expd, y = real, color = factor(team)) + geom_freqpoly(aes(group = team)))
ggplot(data = win_prob, aes(x = expd, y = real, color = factor(team)) + geom_freqpoly(aes(group = team)))
?geom_freqpoly
getwd()
slidify("index.Rmd")
q()
